---
title: "Workflow4Metabolomics"
listing:
  - id: fast_access
    contents: 
      - title: "Galaxy instance"
        image: "https://galaxyproject.org/images/galaxy-logos/galaxy_project_logo_square.png"
        path: "https://workflow4metabolomics.usegalaxy.fr"
        description: "Here is the Galaxy workflow4metabolomics website"
      - title: "Teaching school"
        image: "/images/W4E_icon.svg"
        path: "w4e2024.qmd"
        description: "Let's check the teaching school of W4M"
    type: grid
    image-height: 130px
    fields: [title, description, image, categories]
    grid-columns: 2
    grid-item-align: left
    grid-item-border: true
  # - id: resources
  #   contents: resources*.qmd
  #   sort: "date asc"
  #   type: grid
  #   image-height: 130px
  #   fields: [title, description, image, categories]
  #   grid-columns: 2
  #   grid-item-align: left
  #   grid-item-border: true
  - id: sponsors
    contents:
      - title: "MetaboHub"
        image: https://www.metabohub.fr/media/752
        path: https://www.metabohub.fr/
        description: "The National Infrastructure of Metabolomics and Fluxomics"
      - title: "IFB"
        image: https://www.france-bioinformatique.fr/wp-content/uploads/logo-ifb-couleur.svg
        path: https://www.france-bioinformatique.fr/
        description: "The French Institute of Bioinformatics"
      - title: "RFMF"
        image: https://www.rfmf.fr/wp-content/uploads/2020/06/logo_seul.png
        path: https://www.rfmf.fr/
        description: "The French Network of Metabolomic and Fluxomic"
    type: grid
    image-height: 100px
    fields: [title, description, image, categories]
    grid-columns: 3
    grid-item-align: left
    grid-item-border: true
---

::: callout-important
Workflow4experimenters (![](/images/W4E_icon.svg){height="1em"}) course 2024 : [Pre-Registrations CLOSED](https://workflow4metabolomics.org/W4E2024)
:::

Welcome to the **collaborative portal of** ![](/images/W4M_icon.svg){height="1em"} dedicated to metabolomics data processing, analysis and annotation for the **Metabolomics community**. On this website you will find information on our **main missions** as well as **users** and **developpers guides**.

### Keep in touch

You can subscribe to [our newsletter](https://groupes.france-bioinformatique.fr/sympa/subscribe/workflow4metabolomics-newsletter?previous_action=info) to get updated on new events !

### Fast access

::: {#fast_access}
:::

### Resources

<!-- Pictures are frm here https://designs.ai/graphicmaker/illustrations/Duotone_Cartoon_Set -->

```{=html}
<div class="card-group">
  <div class="card">
    <img src="/images/39-Adventurer.svg" class="card-img-top" alt="newcomer.jpg">
    <div class="card-body">
      <h4 class="card-title">Newcomer</h4>
      <p class="card-text">I'm a newcomer and I want to know more about <img src="/images/W4M_icon.svg" style="height:20px">, visit our <a href="about.qmd">About us section</a></p>
    </div>
  </div>
  <div class="card">
    <img src="/images/106-Management-Trainee.svg" class="card-img-top" alt="...">
    <div class="card-body">
      <h4 class="card-title">Want to learn</h4>
      <p class="card-text">
      <ul class="list-group list-group-flush">
        <li class="list-group-item"><small>Go to our teaching school event <a href="news.qmd"><img src="/images/W4E_icon.svg" style="height:25px"> section</a></small></li>
        <li class="list-group-item"><small>Consult our <a href="tooluser.qmd">user page here</a></small></li>
        <li class="list-group-item"><small>Or directly go to our official <a href="https://training.galaxyproject.org/training-material/topics/metabolomics/">Galaxy training guides <img src="https://training.galaxyproject.org/training-material/assets/images/GTN-60px.png" style="height:25px"></a></small></li>
      </ul>
      </p>
    </div>
  </div>
</div>
<div class="card-group">
  <div class="card">
    <img src="/images/58-Teamwork.svg" class="card-img-top" alt="...">
    <div class="card-body">
      <h4 class="card-title">Contributers</h4>
      <p class="card-text">
      <ul class="list-group list-group-flush">
        <li class="list-group-item"><small><b>A tutor</b> to help people understand how to process metabolomics data: [contact here](TODO)</small></li>
        <li class="list-group-item"><small><b>A developper</b> to propose or add new tools to the community:
          <ul>
            <li>Check our guides and how-to [here](TODO)</li>
            <li>I need help [contact here](TODO)</li>
          </ul>
        </small>
        </li>
        <li class="list-group-item"><small>I don't know but I want to help: [contact here](TODO)</small></li>
      </ul>
      </p>
    </div>
  </div>
  <div class="card">
    <img src="/images/121-SEO-Analysis.svg" class="card-img-top" alt="...">
    <div class="card-body">
      <h4 class="card-title">Reporters</h4>
      <p class="card-text">
        <ul class="list-group list-group-flush">
          <li class="list-group-item"><small>The galaxy instance, post an issue on the <a href="https://community.france-bioinformatique.fr/c/workflow4metabolomics/10">IFB Communit Support</a></small></li>
          <li class="list-group-item"><small>On this website, post an issue on [lien repo](TODO)</small></li>
        </ul>
      </p>
    </div>
  </div>
</div>
```
<!-- :::{#resources} -->

<!-- ::: -->

**I want to know who** is behind all of these, go to our [team member section](listing_team.qmd).

### Our sponsors

::: {#sponsors}
:::

### Where are we working ?

```{r}
#| label: "make_the_map"
#| echo: FALSE
#| message: FALSE
#| warning: false
#| context: output
# Script pour generer la carte des labos et personnes de W4M
library(sf)
library(openxlsx)
library(mapview)
library(sfheaders)
library(leaflet)
library(leafpop)
library(leafem)
library(leaflet.extras)

logo <- "https://avatars.githubusercontent.com/u/17082156?s=200&v=4"
people <- read.xlsx("./ressources/people_location.xlsx")
# prepare a palette - manual colors according to branch column
palPwr <- leaflet::colorFactor(palette = c("metabolomique" = "steelblue", 
                                           "genomique" = "goldenrod", 
                                           "informatique" = "yellow"), 
                               domain = people$domaine)

# create a column with HTML code for popup text
people <- people %>% 
  dplyr::mutate(label = paste0('<b><a href=\"', paste0('/people/W4Mteam/',strsplit(people," ")[[1]][1],'_',strsplit(people," ")[[1]][2], '\">', people, '</a></b> <br>', lab)))
people$long <- as.double(people$long)
people$lat <- as.double(people$lat)
#labs <- read.xlsx("./ressources/lab_location.xlsx")
#labs$long <- as.double(labs$long)
#labs$lat <- as.double(labs$lat)

#declare an icon - link to an image somwehere on the net
ikonka <- leaflet::makeIcon(iconUrl = "https://cdn1.iconfinder.com/data/icons/working-at-office/90/activity-work_at_office-working-people-man-23-512.png", iconWidth = 50, iconHeight = 50) # sizing as required

#map_people <- st_as_sf(people, coords = c("long","lat"), crs = 4326)
#map_labs <- sf_polygon(labs, x = "long", y = "lat", polygon_id = "lab")

mapPlot <- leaflet(people) %>%
  addProviderTiles("OpenStreetMap.Mapnik") %>%
  addMarkers(lng = ~long,
             lat = ~lat,
             popup = ~label, 
             clusterOptions = markerClusterOptions(iconCreateFunction=JS("function (cluster) {    
                                  var childCount = cluster.getChildCount(); 
                                  var c = ' marker-cluster-';  
                                  if (childCount > 10) {  
                                    c += 'large';  
                                  } else if (childCount > 5) {  
                                    c += 'medium';  
                                  } else { 
                                    c += 'small';  
                                  }    
                                  return new L.DivIcon({ html: '<div><span>' + childCount + '</span></div>', className: 'marker-cluster' + c, iconSize: new L.Point(40, 40) });

  }")), 
             icon = ikonka) %>% 
  addResetMapButton() %>%
  leafem::addLogo(logo, url = "https://jsaintvanne.github.io/workflow4metabolomics/")
mapPlot

  #addPolygons(data = map_labs, color = "blue")


```
